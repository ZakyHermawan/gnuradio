<?xml version="1.0"?>
<!--
###################################################
##Variable function probe
###################################################
 -->
<block>
	<name>Function Probe</name>
	<key>variable_function_probe</key>
	<import>import time</import>
	<import>import threading</import>
	<var_make>self.$(id) = $(id) = $value</var_make>
	<make>#slurp
def _$(id)_probe():
	while True:
		self.set_$(id)(self.$(block_id()).$(function_name())())
		time.sleep(1.0/($poll_rate))
_$(id)_thread = threading.Thread(target=_$(id)_probe)
_$(id)_thread.daemon = True
_$(id)_thread.start()</make>
	<callback>self.set_$(id)($value)</callback>
	<param>
		<name>Value</name>
		<key>value</key>
		<value>0</value>
		<type>raw</type>
	</param>
	<param>
		<name>Block ID</name>
		<key>block_id</key>
		<value>my_block_0</value>
		<type>string</type>
	</param>
	<param>
		<name>Function Name</name>
		<key>function_name</key>
		<value>get_number</value>
		<type>string</type>
	</param>
	<param>
		<name>Poll Rate (Hz)</name>
		<key>poll_rate</key>
		<value>10</value>
		<type>real</type>
	</param>
	<doc>
Periodically probe a function and set its value to this variable.

To poll a stream for a level, use this with the probe signal block.
	</doc>
</block>
